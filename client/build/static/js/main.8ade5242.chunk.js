(this["webpackJsonpmytinerary-lamothe"]=this["webpackJsonpmytinerary-lamothe"]||[]).push([[0],{110:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/argentina.20a3a373.jpeg"},142:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/london.54c4a90c.jpeg"},143:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/roma.b49b4bfd.jpeg"},144:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/bogota.d3f0012e.jpeg"},145:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/cancun.9276cc74.jpeg"},146:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/madrid.9636e3ba.jpeg"},147:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/cairo.997005bb.jpeg"},148:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/new_york.96e14afa.jpeg"},149:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/tokio.953ce1af.jpeg"},150:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/sidney.db333b09.jpeg"},164:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(30),i=n.n(c),s=(n(109),n(110),n(172)),o=n(170),l=n(171),u=n(175),d=n(12),m=n(17),j=n(9),p=n.n(j),b=n(3),h=n(13),g=n(21),f=n.n(g),O={signUp:function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n,a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("https://myitinerary-lamothe.herokuapp.com/api/auth/signUp",Object(b.a)({},e));case 2:return r=t.sent,console.log("actionauth:",r),r.data.success?n({type:"LOGGED",payload:r.data.response}):console.log(r.data.errors.map((function(e){return e.message}))),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},signIn:function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n,a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("https://myitinerary-lamothe.herokuapp.com/api/auth/signIn",Object(b.a)({},e));case 2:return r=t.sent,console.log("actionauth",r),r.data.success?n({type:"LOGGED",payload:r.data.response}):console.log(r.data.errors),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},signOutUser:function(){return function(e){e({type:"LOG_OUT_USER"})}},signInUserLS:function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("http://localhost:4000/api/verifytoken",{headers:{Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,n({type:"LOGGED",payload:{token:e,userName:a.data.userName,userImage:a.data.userImage,_id:a.data._id}}),t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",n({type:"LOG_OUT_USER"}));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},x=O,y=n(2),v={signOutUser:x.signOutUser},N=Object(m.b)((function(e){return{token:e.authReducer.token,userName:e.authReducer.userName,userImage:e.authReducer.userImage}}),v)((function(e){return Object(y.jsx)(s.a,{bg:"dark",className:"sticky-top",expand:"lg",children:Object(y.jsxs)(o.a,{children:[Object(y.jsxs)("div",{className:"d-flex",children:[e.token?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("img",{className:"rounded-circle img-fluid ms-3",width:50,src:e.userImage})}):Object(y.jsxs)(y.Fragment,{children:[" ",Object(y.jsx)("img",{className:"rounded-circle img-fluid ms-3",width:"45px",src:"https://i.imgur.com/331h090.png",alt:"user_pic"})]}),Object(y.jsx)(l.a,{id:"basic-nav-dropdown",children:e.token?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("a",{className:"signOut link-dark signout-drop",onClick:function(){return e.signOutUser()},children:" Sign out"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(d.b,{to:"/signIn",className:"text-decoration-none",children:[" ",Object(y.jsx)(l.a.Item,{href:"#action/3.1",children:"Sign In"})," "]}),Object(y.jsx)(l.a.Divider,{}),Object(y.jsxs)(d.b,{to:"/signUp",className:"text-decoration-none",children:[" ",Object(y.jsx)(l.a.Item,{href:"#action/3.2",children:"Sign Up"})," "]})]})}),Object(y.jsxs)("h5",{className:"text-light d-flex justify-content-center align-items-center",children:[" ",e.userName?Object(y.jsxs)(y.Fragment,{children:["Hi ",e.userName]}):""," "]})]}),Object(y.jsx)(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsx)(s.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(u.a,{className:"me-auto",children:[Object(y.jsxs)(d.b,{to:"/",className:"link-color text-decoration-none nav-link",children:[Object(y.jsx)("i",{className:"fas fa-home icon2"}),"Home"]}),Object(y.jsxs)(d.c,{to:"/cities",className:"link-color text-decoration-none nav-link",children:[Object(y.jsx)("i",{className:"fas fa-plane-departure icon2"}),"Cities"]})]})})})]})})})),k=n(31),I=n(35),w=n(41),C=n(44),S=n(83),E=(n(137),n(26));n(138),n(139),n(140);E.f.use([E.c,E.d,E.e,E.a,E.b]);var _=function(e){console.log(e.cities);var t=e.cities;return Object(y.jsx)("div",{className:"car-cont",children:Object(y.jsxs)("div",{className:"carousel-container",children:[Object(y.jsx)("h2",{className:"d-flex justify-content-center pt-3 text-white",children:"Popular MYtineraries"}),Object(y.jsx)(S.a,{spaceBetween:30,slidesPerView:1,navigation:!0,autoplay:{delay:3500,disableOnInteraction:!1},pagination:{clickable:!0},scrollbar:{draggable:!0},children:t.map((function(e){return Object(y.jsx)(S.b,{className:"slide swip-slid",children:e.map((function(e){return Object(y.jsx)("div",{className:"slide-content",children:Object(y.jsx)("div",{className:"user-image",style:{backgroundImage:"URL(".concat(e.src,")"),backgroundSize:"cover",backgroundPosition:"bottom"},children:Object(y.jsx)("h3",{className:"text-light h3-city",children:e.city})})})}))})}))})]})})},L=function(){var e=[[{id:1,city:"Bariloche",country:"Argentina",src:n(141).default},{id:2,city:"London",country:"England",src:n(142).default},{id:3,city:"Roma",country:"Italy",src:n(143).default},{id:4,city:"Paris",country:"France",src:n(93).default}],[{id:5,city:"Bogota",country:"Colombia",src:n(144).default},{id:6,city:"Cancun",country:"Mexico",src:n(145).default},{id:7,city:"Madrid",country:"Spain",src:n(146).default},{id:8,city:"Cairo",country:"Egipt",src:n(147).default}],[{id:9,city:"New York",country:"United States",src:n(148).default},{id:10,city:"Viena",country:"Austria",src:n(93).default},{id:11,city:"Tokyo",country:"Japan",src:n(149).default},{id:12,city:"Sidney",country:"Australia",src:n(150).default}]];return Object(y.jsx)("div",{children:Object(y.jsx)(_,{cities:e})})},T=function(){return Object(y.jsxs)("div",{className:"d-flex justify-content-center m-5",children:[Object(y.jsx)(d.b,{className:"text-decoration-none",to:"/cities",children:Object(y.jsx)("span",{children:Object(y.jsx)("i",{})})})," "]})},U=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"componentDidMount",value:function(){console.log("props from Home",this.props)}},{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"d-flex justify-content-end container-home",children:Object(y.jsxs)("div",{className:"h1-dou",children:[Object(y.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,id:"video",children:Object(y.jsx)("source",{src:"./assets/video_home.mp4",type:"video/mp4"})}),Object(y.jsx)("h1",{children:"Mytinerary!"}),Object(y.jsx)("p",{children:"Find your perfect trip, designed by insiders who know and love their cities!"}),Object(y.jsx)("div",{class:"buttons",children:Object(y.jsx)("div",{class:"container-button",children:Object(y.jsx)(d.b,{to:"/cities",class:"btn effect04","data-sm-link-text":"CITIES!",children:Object(y.jsx)("span",{children:"JUST CLICK IT"})})})})]})}),Object(y.jsx)(L,{})]})}}]),n}(r.a.Component),R=U,F=function(){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"top-footer d-flex justify-content-evenly",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{className:"text-light",children:"Mytinerary"}),Object(y.jsx)("p",{className:"text-light",children:"\u201cIt\u2019s a dangerous business going out your door.You step onto the road, and if you don\u2019t keep your feet, there\u2019s no knowing where you might be swept off to.\u201d"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)(d.b,{to:"/",children:"Home"}),Object(y.jsx)(d.b,{to:"/Cities",children:"Cities"}),Object(y.jsx)(d.b,{to:"/signUp",className:"text-decoration-none",children:"Sign Up"}),Object(y.jsx)(d.b,{to:"/signIn",className:"text-decoration-none",children:"Sign In"})]})]}),Object(y.jsxs)("footer",{className:"footer-container text-light",style:{backgroundColor:"black"},children:[Object(y.jsx)("div",{className:"footer-items col-12",children:Object(y.jsxs)("ul",{className:"d-flex flex-wrap ul-footer",children:[Object(y.jsx)("li",{children:Object(y.jsxs)("a",{href:"https://www.facebook.com",children:[Object(y.jsx)("img",{className:"me-1",src:"https://i.imgur.com/lu2AkH4.png",alt:"facebook"}),"Facebook"]})}),Object(y.jsx)("li",{children:Object(y.jsxs)("a",{href:"https://wa.me/+5491164917988/",children:[Object(y.jsx)("img",{className:"me-1",src:"https://i.imgur.com/mKlPUpR.png",alt:"whatsapp"}),"Whatsapp"]})}),Object(y.jsx)("li",{children:Object(y.jsxs)("a",{href:"https://www.instragram.com",children:[Object(y.jsx)("img",{className:"me-1",src:"https://i.imgur.com/mrhyyvq.png",alt:"instagram"}),"Instagram"]})})]})}),Object(y.jsx)("div",{class:"footer-items col-12 bg-dark"}),Object(y.jsx)("p",{className:"d-flex justify-content-center text-center",children:" Copyright \xa9 Valentin Lamothe | Mytinerary | MindHub | 2021 "})]})]})},B=n(173),A=n(99),P=function(e){return Object(y.jsx)(B.a,{className:"d-flex vw-25 m-5",children:Object(y.jsx)(A.a,{type:"search",placeholder:e.placeholder,className:"me-2 bg-black search","aria-label":"Search",onChange:e.handleChange})})},Y={getCities:function(){return function(){var e=Object(h.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://myitinerary-lamothe.herokuapp.com/api/cities");case 2:n=e.sent,a=n.data.response,t({type:"ALL_CITIES",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getOneCity:function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://myitinerary-lamothe.herokuapp.com/api/city"+e);case 2:a=t.sent,r=a.data.response,n({type:"ONE_CITY",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getFiltered:function(e,t){return function(n){n({type:"GET_CITIES_FILTERED",payload:{cities:e,e:t}})}}},G=Y,M=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.props.getCities()}},{key:"render",value:function(){var e=this,t=this.props,n=t.cities,a=t.citiesFiltered;return Object(y.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(y.jsx)(P,{placeholder:"Enter a city... ",handleChange:function(t){return e.props.getFiltered(n,t.target.value)}}),0===n.length?Object(y.jsx)("div",{class:"spinner-border text-warning m-5",role:"status",children:Object(y.jsx)("span",{class:"visually-hidden",children:"Loading..."})}):a.length>0?a.map((function(e){return Object(y.jsx)(d.c,{className:"text-decoration-none",to:"/city/".concat(e._id),children:Object(y.jsx)("div",{className:"slide-content",onClick:function(){return console.log(e._id)},children:Object(y.jsx)("div",{className:"user-image",style:{backgroundImage:"URL(".concat(e.image,")"),backgroundSize:"cover",backgroundPosition:"bottom",width:"50vw",maxHeight:"40vh",margin:"3% 0 3% 0"},children:Object(y.jsx)("h3",{className:"text-light h3-city",children:e.cityName})})},e.id)})})):Object(y.jsx)("h1",{className:"text-light",children:"NO CITIES FOUND"})]})}}]),n}(r.a.Component),D={getCities:G.getCities,getFiltered:G.getFiltered},H=Object(m.b)((function(e){return{cities:e.cities.allCities,citiesFiltered:e.cities.citiesFiltered}}),D)(M),q=n(11),z=n(8),W=n(7),J=n(19),V=n.n(J),K=n(76),Q=n.n(K),X={signIn:x.signIn},Z=Object(m.b)((function(e){return{userName:e.authReducer.userName,email:e.authReducer.email,userImage:e.authReducer.userImage}}),X)((function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(W.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(null),s=Object(W.a)(i,2),o=(s[0],s[1]),l=function(e){c(Object(b.a)(Object(b.a)({},r),{},Object(z.a)({},e.target.name,e.target.value)))},u=V.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",V.a.stopTimer),e.addEventListener("mouseleave",V.a.resumeTimer)}}),m=function(t){var n={email:t.profileObj.email,password:t.profileObj.googleId,userImage:t.profileObj.imageUrl,google:!0};e.signIn(n).then((function(e){e.data.success?u.fire({icon:"success",title:"Welcome back!"}):o(e.data.error)})).catch((function(e){console.log(e),u.fire({icon:"error",title:"You have to sign up before you log in!"})}))};return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"bg-signin",children:Object(y.jsx)("div",{id:"login-boxsigin",children:Object(y.jsxs)("div",{class:"container-form-signin",children:[Object(y.jsx)("h1",{className:"h1-signin",children:"Sign in "}),Object(y.jsx)("input",{className:"input-signup",onChange:l,type:"text",name:"email",placeholder:"E-mail"}),Object(y.jsx)("input",{className:"input-signup",onChange:l,type:"password",name:"password",placeholder:"Password"}),Object(y.jsx)("input",{className:"input-signup",type:"submit",onClick:function(){Object.values(r).some((function(e){return""===e}))?u.fire({icon:"error",title:"There are fields incomplete, please complete them"}):e.signIn(r).then((function(e){e.data.success?u.fire({icon:"success",title:"Welcome back!"}):u.fire({icon:"error",title:"Email and/or password incorrect"})})).catch((function(e){return u.fire({icon:"error",title:"Email and/or password incorrect"})}))},name:"signup_submit",value:"Sign in"}),Object(y.jsx)(Q.a,{clientId:"1088157262762-o76vtl98u7qkdvdbo2q2joeaslnft665.apps.googleusercontent.com",buttonText:"Sign up with google",onSuccess:m,onFailure:m,cookiePolicy:"single_host_origin",className:"google-button"}),Object(y.jsxs)("p",{className:"have-an-account",children:["You dont have an account?",Object(y.jsx)(d.b,{to:"/signUp",children:"Sign Up here!"})]})]})})})})})),$={signUp:x.signUp},ee=Object(m.b)((function(e){return{userName:e.authReducer.userName}}),$)((function(e){var t,n=Object(a.useState)([]),r=Object(W.a)(n,2),c=r[0],i=r[1];Object(a.useEffect)(Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://restcountries.com/v2/all?fields=name");case 2:t=e.sent,i(t.data);case 4:case"end":return e.stop()}}),e)}))),[]);var s=Object(a.useState)({userName:"",email:"",password:"",country:"",userImage:""}),o=Object(W.a)(s,2),l=o[0],u=o[1],m=Object(a.useState)({}),j=Object(W.a)(m,2),g=j[0],O=j[1],x=V.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",V.a.stopTimer),e.addEventListener("mouseleave",V.a.resumeTimer)}}),v=function(e){console.log(e.target.value),u(Object(b.a)(Object(b.a)({},l),{},Object(z.a)({},e.target.name,e.target.value)))},N=function(t){console.log("google:"+t);var n={userName:t.profileObj.name,email:t.profileObj.email,password:t.profileObj.googleId,country:"Argentina",google:!0,userImage:t.profileObj.imageUrl};e.signUp(n).then((function(e){e.data.success?x.fire({icon:"success",title:"Your account has been created!"}):O(e.data.error)})).catch((function(e){console.log(e),x.fire({icon:"error",title:"Something went wrong! Come back later!"})}))};return Object(y.jsx)("div",{className:"bg-form",children:Object(y.jsx)("div",{id:"login-box",children:Object(y.jsx)("div",{className:"left-right",children:Object(y.jsxs)("div",{class:"left",children:[Object(y.jsx)("h1",{className:"signUp-title",children:"Sign up"}),Object(y.jsx)("input",{type:"text",className:"input-signup",onChange:v,name:"userName",placeholder:"Username"}),Object(y.jsx)("p",{className:"text-danger",children:g.userName}),Object(y.jsx)("input",{className:"input-signup",type:"text",onChange:v,name:"email",placeholder:"E-mail"}),Object(y.jsx)("p",{className:"text-danger",children:g.email}),Object(y.jsx)("input",(t={className:"input-signup",type:"url"},Object(z.a)(t,"className","url-input"),Object(z.a)(t,"onChange",v),Object(z.a)(t,"name","userImage"),Object(z.a)(t,"placeholder","URL profile image"),t)),Object(y.jsx)("input",{className:"input-signup",type:"password",onChange:v,name:"password",placeholder:"Password"}),Object(y.jsx)("p",{className:"text-danger",children:g.password}),Object(y.jsx)("select",{name:"country",onChange:v,children:c.map((function(e){return Object(y.jsx)("option",{children:e.name})}))}),Object(y.jsx)("input",{type:"submit",name:"signup_submit",onClick:function(){Object.values(l).some((function(e){return""===e}))?x.fire({icon:"error",title:"There are fields incomplete, please complete them"}):e.signUp(l).then((function(e){e.data.success?x.fire({icon:"success",title:"Your account has been created!"}):e.data.errors?(O({}),e.data.errors.map((function(e){return O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(z.a)({},e.path,e.message))}))}))):x.fire({icon:"error",title:"That email has already been used! Try with another one"})})).catch((function(e){console.log(e),x.fire({icon:"error",title:"We are facing technical difficulties! Come back later!"})}))},value:"Sign me up"}),Object(y.jsx)("h4",{className:"or-google",children:"or"}),Object(y.jsx)(Q.a,{clientId:"1088157262762-o76vtl98u7qkdvdbo2q2joeaslnft665.apps.googleusercontent.com",buttonText:"Sign in with google",onSuccess:N,onFailure:N,cookiePolicy:"single_host_origin",className:"google-button"}),Object(y.jsxs)("p",{className:"have-an-account",children:["Already have an account? ",Object(y.jsx)(d.b,{to:"/signIn",children:"Sign in here"})]})]})})})})})),te=n(15),ne=n(174),ae={getActivitiesByItinerary:function(e){return Object(h.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("https://myitinerary-lamothe.herokuapp.com/api/activities".concat(e));case 3:return n=t.sent,a=n.data.response,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",{success:!1,response:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))}},re=n(100),ce=n(102),ie=n(43),se=n(101),oe=(n(163),{getOneItinerary:function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://myitinerary-lamothe.herokuapp.com/api/itinerarycity/"+e);case 2:a=t.sent,r=a.data.response,n({type:"ONE_ITINERARY",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sendComment:function(e){return Object(h.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("https://myitinerary-lamothe.herokuapp.com/api/itinerary/comments",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))},deleteComment:function(e){return Object(h.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("llegue a itineraryAction:",e),t.next=3,f.a.delete("https://myitinerary-lamothe.herokuapp.com/api/itinerary/comments",{data:e});case 3:return n=t.sent,console.log("deletecommentresponse:",n),t.abrupt("return",n.data.response);case 6:case"end":return t.stop()}}),t)})))},editComment:function(e,t){return Object(h.a)(p.a.mark((function n(){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.put("https://myitinerary-lamothe.herokuapp.com/api/itinerary/comments/"+e,t);case 2:return a=n.sent,n.abrupt("return",a.data.response);case 4:case"end":return n.stop()}}),n)})))},likeItinerary:function(e,t){return Object(h.a)(p.a.mark((function n(){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.put("https://myitinerary-lamothe.herokuapp.com/api/itineraries/like/".concat(e,"\n                  "),{},{headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=n.sent,n.abrupt("return",a);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))}}),le=oe,ue={sendComment:le.sendComment,deleteComment:le.deleteComment,editComment:le.editComment},de=Object(m.b)((function(e){return{userLogged:e.authReducer.user,itineraries:e.itineraries.itineraries}}),ue)((function(e){var t=e.userLogged,n=e.itineraryId,r=e.comments,c=Object(a.useState)(r),i=Object(W.a)(c,2),s=i[0],o=i[1],l=Object(a.useState)(""),u=Object(W.a)(l,2),d=u[0],m=u[1],j=Object(a.useState)(!1),b=Object(W.a)(j,2),g=b[0],f=b[1],O=Object(a.useState)(""),x=Object(W.a)(O,2),v=x[0],N=x[1],k=Object(a.useState)(""),I=Object(W.a)(k,2),w=I[0],C=I[1];Object(a.useEffect)((function(){console.log("matu",r),console.log("hur",e.itineraries)}),[]),console.log("comments",e);var S=function(){var a=Object(h.a)(p.a.mark((function a(){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""===d){a.next=6;break}return m(""),a.next=4,e.sendComment({userId:t._id,comment:d,itineraryId:n});case 4:r=a.sent,o(r.data.response);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),E=function(){var t=Object(h.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("llegue a deletedignelecomment",n),t.next=3,e.deleteComment(n);case 3:a=t.sent,o(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.a.fire({title:"Are you sure?",text:"You are going to delete your comment!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&(E(t),V.a.fire("Deleted!","Your comment has been deleted","success"))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var t=Object(h.a)(p.a.mark((function t(n,a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!g),t.next=3,e.editComment(n,a);case 3:r=t.sent,o(r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),T=V.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",V.a.stopTimer),e.addEventListener("mouseleave",V.a.resumeTimer)}});return Object(y.jsxs)("div",{className:"comments-general-container",children:[Object(y.jsx)("div",{className:"commentsTittle-container",children:Object(y.jsx)("h1",{className:"commentsTittle",children:"Comments"})}),Object(y.jsx)("div",{className:"all-comments-container",children:s.map((function(e,a){return Object(y.jsx)("div",{className:"comment",children:Object(y.jsxs)("div",{className:"x-alineator",children:[Object(y.jsx)("div",{children:Object(y.jsx)("img",{width:50,className:"authorComment-img",src:e.userImg})}),Object(y.jsxs)("div",{className:"commentContent-container",children:[Object(y.jsx)("p",{className:t&&e.userId===t._id&&g?"displayNone":"comment-author",children:Object(y.jsxs)("strong",{children:[" ",e.userName]})}),Object(y.jsx)("p",{className:t&&e.userId===t._id&&g?"displayNone":"comment-content",children:e.comment}),t&&e.userId===t._id&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("input",{type:"text",value:w===e._id?v:e.comment,onChange:function(e){return N(e.target.value)},className:g?"editingInput":"displayNone"}),Object(y.jsx)(se.a,{className:g?"sendEditedIcon":"displayNone",onClick:function(){return L(n,{commentId:e._id,newComment:v})}})]})]}),t&&e.userId===t._id&&Object(y.jsxs)("div",{className:"modifyCommentIcons-container",children:[Object(y.jsx)(ie.b,{onClick:function(){return t=e.comment,n=e._id,f(!g),N(t),void C(n);var t,n},className:g?"displayNone":"edit-icon"}),Object(y.jsx)(ie.d,{onClick:function(){return _({itineraryId:n,commentId:e._id})},className:g?"displayNone":"delete-icon"})]})]})},a)}))}),Object(y.jsxs)("div",{className:"input-container",children:[Object(y.jsx)("input",{type:"text",value:d,onChange:function(e){return m(e.target.value)},className:"comments-input",placeholder:"Leave your comment!"}),Object(y.jsx)("div",{className:"paperPlane-icon",onClick:t?S:function(){return e="Comment",void T.fire({title:"Must be logged to ".concat(e,"!"),icon:"error"});var e},children:Object(y.jsx)(re.a,{icon:ce.a})})]})]})})),me={getActivitiesByItinerary:ae.getActivitiesByItinerary,likeItinerary:le.likeItinerary},je=Object(m.b)((function(e){return{token:e.authReducer.token,userId:e.authReducer._id,userLogged:e.authReducer.user}}),me)((function(e){var t=Object(a.useState)([]),n=Object(W.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!0),s=Object(W.a)(i,2),o=s[0],l=s[1],u=e.itineraries,d=u._id,m=u.comments,j=u.price,b=u.duration,g=u.hashtags,f=(u.likes,e.userLogged),O=e.itineraries,x=Object(a.useState)([O.likes.length]),v=Object(W.a)(x,2),N=v[0],k=v[1],I=Object(a.useState)(!1),w=Object(W.a)(I,2),C=w[0],S=w[1];console.log("propsItinerary:",e);var E=V.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",V.a.stopTimer),e.addEventListener("mouseleave",V.a.resumeTimer)}});function _(){return(_=Object(h.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getActivitiesByItinerary(d);case 3:(n=t.sent)&&c(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var L=function(){var t=Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!C),k(C?N-1:N+1),t.next=4,e.likeItinerary({userId:f._id,itineraryId:d});case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){l(!o),function(){_.apply(this,arguments)}()};return Object(y.jsx)("div",{className:"d-flex justify-content-center",children:Object(y.jsxs)("div",{className:"bg-cardCity",children:[Object(y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(y.jsxs)("div",{className:"d-flex direction-row align-items-center gap-3",children:[Object(y.jsx)("img",{className:"author-img",src:e.itineraries.authorImg}),Object(y.jsx)("h3",{className:"authorName",children:e.itineraries.authorName}),Object(y.jsxs)("span",{onClick:f?L:function(){return e="Like",void E.fire("Must be logged to ".concat(e,"!"));var e},className:"fs-5 likeicon",children:[Object(y.jsx)(ie.c,{className:C?"displayNone":"heart-icon-disliked"}),Object(y.jsx)(ie.a,{className:C?"heart-icon":"displayNone"})]}),Object(y.jsx)("h3",{className:"totalLikes",children:N})]}),Object(y.jsx)("img",{className:"logo-card",src:"https://i.imgur.com/giAfWMt.png"})]}),Object(y.jsxs)("span",{className:"fs-5 fontcardcity",children:["duration: ",Object(te.a)(Array(b)).map((function(e,t){return Object(y.jsx)("img",{src:"https://i.imgur.com/gFF5QNr.png",className:"durationicon"},t)}))]}),Object(y.jsxs)("span",{className:"fs-5 fontcardcity",children:["Price: ",Object(te.a)(Array(j)).map((function(e,t){return Object(y.jsx)("img",{src:"https://i.imgur.com/Fl4fqaP.png",className:"iconoBilletes",alt:"money"},t)}))]}),Object(y.jsx)("div",{className:"fs-5 fontcardcity",children:g.map((function(e){return Object(y.jsx)("span",{className:"fontcardcity",children:e})}))}),Object(y.jsx)(ne.a,{className:"accordion-city",children:Object(y.jsxs)(ne.a.Item,{eventKey:"0",children:[Object(y.jsx)(ne.a.Header,{onClick:function(){return T()},children:o?Object(y.jsx)("p",{className:"viewCard",children:"View More"}):Object(y.jsx)("p",{className:"viewCard",children:"View Less"})}),Object(y.jsx)(ne.a.Body,{className:"body-activity",children:Object(y.jsxs)("div",{className:"d-flex flex-column",children:[r.map((function(e,t){return Object(y.jsxs)("div",{className:"d-flex gap-4 mt-3 contain-activity",children:[Object(y.jsx)("img",{width:200,src:e.src}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{className:"p-activity",children:e.activityTitle}),Object(y.jsx)("p",{children:e.activity})]})]},t)})),Object(y.jsx)(de,{itineraryId:d,comments:m})]})})]})})]})})})),pe={getOneCity:G.getOneCity,getOneItinerary:le.getOneItinerary,getActivitiesByItinerary:ae.getActivitiesByItinerary},be=Object(m.b)((function(e){return{oneCity:e.cities.oneCity,itineraries:e.itineraries.itineraries}}),pe)((function(e){var t=Object(q.h)();return Object(a.useEffect)((function(){e.getOneCity(t.id),e.getOneItinerary(t.id)}),[]),Object(y.jsxs)("div",{className:"background_city",children:[Object(y.jsxs)("div",{className:"container-fluid d-flex flex-column align-items-center gap-5",children:[void 0===e.oneCity.image?Object(y.jsx)("div",{class:"spinner-border text-warning m-5",id:"spinner",role:"status",children:Object(y.jsx)("span",{class:"visually-hidden",children:"Loading..."})}):Object(y.jsx)("div",{className:"image-city d-flex",style:{backgroundImage:"URL(".concat(e.oneCity.image,")"),backgroundSize:"cover",backgroundPosition:"bottom"},children:Object(y.jsxs)("div",{className:"d-flex flex-column justify-content-center m-auto h3-onlyCity",children:[Object(y.jsx)("h2",{className:"font-monospace",children:e.oneCity.country}),Object(y.jsx)("h3",{children:e.oneCity.cityName})]})}),Object(y.jsx)("h2",{className:"mt-5 text-light text-capitalize text-center",children:"Join us in this wonderfull adventure"})]}),e.itineraries.length>0?e.itineraries.map((function(e,t){return Object(y.jsx)(je,{itineraries:e},t)})):Object(y.jsx)("h2",{className:"text-light d-flex justify-content-center h2-no-iti",children:"This city doesn't have itineraries"}),Object(y.jsx)(T,{}),")"]})})),he=function(){var e=Object(q.f)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null};var ge={signInUserLS:x.signInUserLS},fe=Object(m.b)((function(e){return{token:e.authReducer.token,userName:e.authReducer.userName}}),ge)((function(e){return Object(a.useEffect)((function(){var t=e.signInUserLS;localStorage.getItem("token")&&t(localStorage.getItem("token"))}),[]),Object(y.jsxs)(d.a,{children:[Object(y.jsx)(he,{}),Object(y.jsx)(N,{}),Object(y.jsxs)(q.d,{children:[Object(y.jsx)(q.b,{path:"/",element:Object(y.jsx)(R,{}),exact:!0}),Object(y.jsx)(q.b,{path:"/cities",element:Object(y.jsx)(H,{})}),Object(y.jsx)(q.b,{path:"/signIn",element:Object(y.jsx)(Z,{})}),!e.userName&&Object(y.jsx)(q.b,{path:"/signUp",element:Object(y.jsx)(ee,{})}),Object(y.jsx)(q.b,{path:"*",element:Object(y.jsx)(q.a,{to:"/"})}),Object(y.jsx)(q.b,{path:"/city/:id",element:Object(y.jsx)(be,{})})]}),Object(y.jsx)(F,{})]})})),Oe=n(59),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allCities:[],citiesFiltered:[],oneCity:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_CITIES":return Object(b.a)(Object(b.a)({},e),{},{allCities:t.payload,citiesFiltered:t.payload});case"ONE_CITY":return Object(b.a)(Object(b.a)({},e),{},{oneCity:t.payload});case"GET_CITIES_FILTERED":var n=t.payload,a=n.cities,r=n.e,c=a.filter((function(e){return e.cityName.toLowerCase().startsWith(r.toLowerCase().trim())}));return Object(b.a)(Object(b.a)({},e),{},{citiesFiltered:c});default:return e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itineraries:[]},t=arguments.length>1?arguments[1]:void 0;return"ONE_ITINERARY"===t.type?Object(b.a)(Object(b.a)({},e),{},{itineraries:t.payload}):e},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userName:null,email:null,_id:null,userImage:null,token:null,user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED":return localStorage.setItem("token",t.payload.token),localStorage.setItem("userName",t.payload.userName),localStorage.setItem("userImage",t.payload.userImage),Object(b.a)(Object(b.a)({},e),{},{userName:t.payload.userName,email:t.payload.email,userImage:t.payload.userImage,token:t.payload.token,_id:t.payload._id,user:t.payload});case"LOG_OUT_USER":return localStorage.removeItem("token"),localStorage.removeItem("userName"),localStorage.removeItem("userImage"),{token:null,userName:null,userImage:null,_id:null,user:null};default:return e}},Ne=Object(Oe.b)({cities:xe,itineraries:ye,authReducer:ve}),ke=n(103),Ie=Object(Oe.c)(Ne,Object(Oe.a)(ke.a));i.a.render(Object(y.jsx)(m.a,{store:Ie,children:Object(y.jsx)(fe,{})}),document.getElementById("root"))},93:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/paris.d8b33c70.jpeg"}},[[164,1,2]]]);
//# sourceMappingURL=main.8ade5242.chunk.js.map